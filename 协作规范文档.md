# 网页版《Supertype》项目GitHub协作规范文档

## 一、文档目的

为规范项目开发流程，明确3人协作分工与操作标准，避免代码冲突、版本混乱，提升开发效率，保障项目按8周进度顺利推进，特制定本规范。本规范适用于项目全周期，所有协作成员需严格遵守。

## 二、核心协作原则

1. 分支隔离：所有功能开发均在独立功能分支进行，禁止直接向主分支（main）推送代码。

2. 小步提交：完成单个小功能/修复单个BUG后及时提交，提交信息清晰可追溯。

3. 代码审查：所有功能分支需通过Pull Request（PR）合并，合并前必须经过至少1名队友审查通过（假装审查了）。

4. 每日同步：每日开发前拉取最新代码，开发中及时沟通进度与潜在冲突，避免重复开发。

5. 文档同步：功能变更、技术方案调整后，及时更新相关文档（架构、规范文档，readme当简介了）。

## 三、分支管理规范

### 3.1 分支类型与命名规则

|分支类型|命名规则|核心用途|权限与操作规范|
|---|---|---|---|
|主分支|main|存放可部署的稳定代码（对应GitHub Pages线上版本）|仅允许从dev分支合并，禁止直接推送；合并需项目负责人确认|
|开发主分支|dev|整合各功能分支代码，测试稳定后合并到main|仅允许通过PR从功能分支合并；所有成员需定期同步该分支最新代码|
|功能分支|feature/模块名-功能描述|单个功能/模块的独立开发|由对应开发成员创建与维护，完成后通过PR合并到dev|
|BUG修复分支|fix/问题描述|修复dev或main分支的已知BUG|从dev分支创建，修复后合并回dev；若main分支需紧急修复，合并后同步到main|
### 3.2 项目专属分支命名示例（对应3人分工）

|开发成员|负责模块|功能分支命名示例|
|---|---|---|
|同学A（游戏核心）|物理字母交互、关卡开发|feature/physic-letter-drag、feature/level3-design|
|同学B（数据+登录）|Gist API封装、登录认证、数据存储|feature/data-gist-api、feature/login-auth、feature/save-creative-word|
|同学C（UI+部署+联机）|UI开发、部署配置、Socket.io联机基础|feature/ui-login-page、feature/deploy-vite-config、feature/socketio-room|
## 四、日常开发流程规范

### 4.1 初始化操作（所有成员仅需执行1次）

```bash

# 1. 克隆远程仓库到本地（替换为项目实际仓库地址）
git clone https://github.com/P1nk0d3/Word_Fall.git

# 2. 进入项目目录
cd Word_Fall

# 3. 创建并切换到dev分支（若远程已存在，直接切换）
git checkout -b dev
git push -u origin dev
```

### 4.2 功能开发标准流程（每日开发必遵循）

1. 同步最新代码（开发前必做）
`# 切换到dev分支
git checkout dev

# 拉取远程dev分支最新代码
git pull origin dev`

2. 创建功能分支
       `# 基于最新dev分支创建功能分支（命名遵循规范）
git checkout -b feature/physic-letter-drag`

3. 本地开发与提交

    - 开发过程中，定期执行`git status`查看修改文件，避免误操作

    - 完成单个小功能后，提交代码：
                `# 添加修改的文件（.表示所有修改文件，也可指定具体文件）
    git add .
    
    # 提交代码（提交信息遵循4.3规范）
    git commit -m "feat：实现字母块拖拽物理交互，支持鼠标/触摸"
    
    # （可选）若开发周期长，定期推送分支到远程备份
    git push -u origin feature/physic-letter-drag`

4. 推送功能分支到远程
        `git push -u origin feature/physic-letter-drag`

5. 提交Pull Request（PR）
        

    - 打开GitHub项目仓库页面 → 点击「Pull requests」→ 「New pull request」

    - 选择合并目标：base分支为「dev」，compare分支为自己的功能分支（如feature/physic-letter-drag）

    - 填写PR信息（凑合写写得了）：
                

        - 标题：【成员名】功能描述（如「【同学A】实现字母块拖拽物理交互」）

        - 描述：简要说明开发内容、测试情况（如「1. 完成字母刚体创建与拖拽事件绑定；2. 适配PC鼠标与移动端触摸；3. 测试无拖拽卡顿」）

    - 点击「Create pull request」，并@对应审查成员（如@同学B @同学C）

6. 代码审查与修改（同上）
        

    - 审查成员需在1个工作日内完成代码审查，重点检查：逻辑合理性、语法错误、是否与其他模块冲突、代码可读性

    - 若审查提出修改意见，开发成员需及时修改，修改后重新提交并推送（PR会自动更新）

    - 审查通过后，由审查成员或项目负责人点击「Merge pull request」完成合并

7. 合并后同步与清理
        `# 切换回dev分支，拉取合并后的最新代码
git checkout dev
git pull origin dev

# （可选）删除已合并的功能分支（本地+远程）
git branch -d feature/physic-letter-drag
git push origin --delete feature/physic-letter-drag`

### 4.3 代码提交信息规范

提交信息格式：`类型：具体描述`，类型需严格遵循以下分类，确保信息清晰可追溯：

|类型|适用场景|示例|
|---|---|---|
|feat|新增功能/模块|feat：实现字母块弹性碰撞效果|
|fix|修复BUG|fix：解决……的问题|
|docs|修改/补充文档（README、技术文档等）|docs：更新Gist API使用说明|
|style|代码格式调整（不影响逻辑）|style：规范字母物理参数注释格式|
|refactor|代码重构（不新增功能、不修复BUG）|refactor：优化拼词判定函数结构|
|test|添加/修改测试代码|test：新增字母拖拽功能测试用例|
|deploy|部署相关配置修改|deploy：更新Vite打包路径配置|
## 五、代码审查规范（略）

### 5.1 审查责任人

- 同学A（物理字母）的PR：由同学B、C审查

- 同学B（数据+登录）的PR：由同学A、C审查

- 同学C（UI+部署）的PR：由同学A、B审查

- dev合并到main的PR：由3人共同确认

### 5.2 审查重点

1. 功能完整性：是否符合需求设计，核心功能是否实现

2. 逻辑合理性：代码逻辑是否清晰，是否存在冗余/无效代码（不用管）

3. 兼容性：是否适配多浏览器/移动端，是否与其他模块兼容

4. 安全性：涉及PAT的代码是否存在泄露风险，API调用是否有异常处理（不用管）

5. 可读性：是否有清晰的注释，变量/函数命名是否规范

### 5.3 审查反馈规范

- 反馈需具体：指出问题所在的文件、行号，给出明确的修改建议

- 语气需友好：以协作改进为目的，避免负面指责

- 及时响应：收到PR审查通知后，1个工作日内完成审查并反馈

## 六、冲突解决规范（关键！）

### 6.1 冲突预防

- 明确文件归属：各成员优先修改自己负责模块的文件，如需修改公共文件（如config.js），先与相关成员沟通

- 每日同步代码：开发前必拉取dev分支最新代码，减少冲突概率

- 小步合并：功能分支完成后及时合并到dev，避免长期独立开发导致大量冲突

### 6.2 冲突解决步骤

```bash

# 1. 若推送代码时提示冲突，先拉取远程分支代码
git pull origin feature/physic-letter-drag

# 2. 拉取后终端提示冲突，打开冲突文件，文件中会出现冲突标记：
# <<<<<<< HEAD（你的本地代码）
# const gravity = 0.6;
# =======（远程分支代码）
# const gravity = 0.5;
# >>>>>>> xxxxxxx（远程提交ID）

# 3. 协商解决：与相关成员确认正确代码（如统一为0.5），删除冲突标记，修改后保存

# 4. 重新提交并推送
git add .
git commit -m "fix：解决字母重力参数冲突，统一为0.5"
git push origin feature/physic-letter-drag
```

注意：若冲突复杂，无法独立解决，需及时召集相关成员共同协商，避免误改代码逻辑。

## 七、文档管理规范

1. README.md：记录项目简介、技术栈、部署步骤、使用说明、协作规范链接，由3人共同维护，功能更新后及时补充。

2. 技术文档：存放于项目根目录的「docs」文件夹，包括：
        

    - 物理参数文档（同学A维护）

    - Gist API调用说明（同学B维护）

    - 部署配置手册（同学C维护）

    - 联机demo实现文档（同学C维护）

3. 测试报告：存放于「docs/test」文件夹，记录BUG修复清单、兼容性测试结果，由3人共同更新。

## 八、沟通协作规范

1. 日常沟通：建立项目沟通群，每日晚上简要同步当日进度、遇到的问题及次日计划。（周期一周吧）

2. PR沟通：提交PR后必须@审查成员，审查意见需在PR评论区回复，确保沟通留痕。（No）

3. 问题解决：遇到技术难题或协作分歧，及时组织线上/线下讨论，达成一致后再推进。

4. 进度同步：利用GitHub Projects看板（仓库→Projects）跟踪任务进度，添加「待开发/开发中/已完成」列，任务卡片分配给对应成员。（我还没研究明白）

## 九、附则

1. 本规范自发布之日起执行，若需调整，需3人共同协商确认后更新。

2. 若违反规范导致代码混乱、项目延期，需及时复盘问题，明确改进措施。

3. 项目完成后，将本规范纳入项目归档文档，便于后续维护与复盘。


